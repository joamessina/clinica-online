<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="mb-0">Solicitar Turnos</h3>
  <app-back-button></app-back-button>
</div>

<!-- 1) ESPECIALISTAS -->
<p class="text-muted">Elegí un especialista:</p>
<div class="wrap gap-2 mb-4">
  <button
    class="pro-card"
    *ngFor="let p of specialists"
    [class.active]="selectedSpecialistId === p.id"
    (click)="onPickSpecialist(p.id)"
    title="{{ p.nombre }} {{ p.apellido }}"
  >
    <img [src]="avatarUrl(p)" alt="profesional" />
    <span class="name">{{ p.nombre }} {{ p.apellido }}</span>
  </button>
</div>

<!-- 2) ESPECIALIDADES -->
<div *ngIf="selectedSpecialistId">
  <p class="text-muted">Elegí una especialidad:</p>
  <div class="wrap gap-2 mb-4">
    <button
      class="spec-pill"
      *ngFor="let s of specialties"
      [class.active]="selectedSpecialtyId === s.id"
      (click)="onPickSpecialty(s.id)"
      title="{{ s.nombre }}"
    >
      <img [src]="specialtyIcon()" alt="especialidad" />
      <span>{{ s.nombre }}</span>
    </button>
  </div>
</div>

<!-- 3) DÍAS -->
<div *ngIf="selectedSpecialtyId">
  <p class="text-muted">Elegí un día:</p>
  <div class="wrap gap-2 mb-4">
    <button
      class="day-rect"
      *ngFor="let d of days"
      [class.active]="selectedDay === d"
      (click)="onPickDay(d)"
    >
      {{ d }}
    </button>
  </div>
</div>

<!-- 4) HORARIOS -->
<div *ngIf="selectedDay">
  <p class="text-muted">Elegí un horario:</p>
  <div class="wrap gap-2">
    <button class="hour-sq" *ngFor="let h of hours" (click)="reservarTurno(h)">
      {{ h }}
    </button>
  </div>
</div>

<div *ngIf="loading" class="text-muted small mt-3">Cargando…</div>
